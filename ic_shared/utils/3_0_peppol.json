{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/schemas/peppol-invoice-complete.json",
  "Title": "PEPPOL BIS Billing 3.0 Invoice - Complete",
  "PeppolVersion": "3.0",
  "PeppolUrl":"https://docs.peppol.eu/poacc/billing/3.0",
  "Description": "Complete PEPPOL BIS Billing 3.0 invoice schema with all ~130 business terms (BTs), UBL XPaths, obligation metadata, and conditions.",
  "Type": "object",
  "Properties": {
    "PeppolInvoice": {
      "Type": "object",
      "Properties": {
        "Header": {
          "Type": "object",
          "Properties": {
            "UblVersion": {
              "Type": "string",
              "Example": "2.1",
              "Description": "UBL Invoice version.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-2",
              "UBL-XPath": "/Invoice/UBLVersionID"
            },
            "CustomizationID": {
              "Type": "string",
              "Example": "urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0",
              "Description": "Customization identifier.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-3",
              "UBL-XPath": "/Invoice/CustomizationID"
            },
            "ProfileID": {
              "Type": "string",
              "Example": "urn:fdc:peppol.eu:2017:poacc:billing:01:1.0",
              "Description": "Business process profile.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-4",
              "UBL-XPath": "/Invoice/ProfileID"
            },
            "InvoiceID": {
              "Type": "string",
              "Example": "INV-1001",
              "Description": "Unique invoice identifier.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-5",
              "UBL-XPath": "/Invoice/ID"
            },
            "IssueDate": {
              "Type": "string",
              "Format": "date",
              "Example": "2025-12-17",
              "Description": "Invoice issue date.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-6",
              "UBL-XPath": "/Invoice/IssueDate"
            },
            "InvoiceTypeCode": {
              "Type": "string",
              "Example": "380",
              "Description": "Invoice type code (380=Invoice, 381=Credit Note, 383=Debit Note).",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-7",
              "UBL-XPath": "/Invoice/InvoiceTypeCode"
            },
            "DocumentCurrencyCode": {
              "Type": "string",
              "Example": "EUR",
              "Description": "Invoice currency code.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-8",
              "UBL-XPath": "/Invoice/DocumentCurrencyCode"
            },
            "TaxCurrencyCode": {
              "Type": "string",
              "Example": "EUR",
              "Description": "Tax reporting currency code.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-9",
              "UBL-XPath": "/Invoice/TaxCurrencyCode"
            },
            "BuyerReference": {
              "Type": "string",
              "Example": "AB-123",
              "Description": "Buyer internal reference.",
              "Obligation": "conditional",
              "ConditionalDescription": "Mandatory if OrderReference is absent.",
              "BT-ID": "BT-10",
              "UBL-XPath": "/Invoice/BuyerReference"
            },
            "OrderReference": {
              "Type": "string",
              "Example": "PO-2025-77",
              "Description": "Purchase order reference.",
              "Obligation": "conditional",
              "ConditionalDescription": "Mandatory if BuyerReference is absent. Best practice to always include.",
              "BT-ID": "BT-11",
              "UBL-XPath": "/Invoice/OrderReference/ID"
            },
            "Notes": {
              "Type": "string",
              "Example": "Thank you for your business",
              "Description": "Document-level notes.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-116",
              "UBL-XPath": "/Invoice/Note"
            }
          },
          "Required": [
            "UblVersion",
            "CustomizationID",
            "ProfileID",
            "InvoiceID",
            "IssueDate",
            "InvoiceTypeCode",
            "DocumentCurrencyCode"
          ]
        },
        "SellerContact": {
          "Type": "object",
          "Description": "Seller contact point information.",
          "Obligation": "optional",
          "Properties": {
            "Name": {
              "Type": "string",
              "Example": "John Smith",
              "Description": "Seller contact person name.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-41"
            },
            "Telephone": {
              "Type": "string",
              "Example": "+46101234567",
              "Description": "Seller contact telephone.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-42"
            },
            "ElectronicMail": {
              "Type": "string",
              "Format": "email",
              "Example": "sales@abc-supplies.se",
              "Description": "Seller contact email.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-43"
            }
          }
        },
        "Seller": {
          "Type": "object",
          "Properties": {
            "EndpointID": {
              "Type": "string",
              "Example": "0088:1234567890123",
              "Description": "Seller PEPPOL endpoint ID.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-12",
              "UBL-XPath": "/Invoice/AccountingSupplierParty/Party/EndpointID"
            },
            "Name": {
              "Type": "string",
              "Example": "ABC Supplies Ltd",
              "Description": "Seller legal name.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-13",
              "UBL-XPath": "/Invoice/AccountingSupplierParty/Party/PartyName/Name"
            },
            "LegalRegistrationID": {
              "Type": "string",
              "Example": "SE5566778899",
              "Description": "Seller legal registration number.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-14",
              "UBL-XPath": "/Invoice/AccountingSupplierParty/Party/PartyLegalEntity/CompanyID"
            },
            "VatID": {
              "Type": "string",
              "Example": "SE556677889901",
              "Description": "Seller VAT identifier.",
              "Obligation": "conditional",
              "ConditionalDescription": "Required if Seller is registered for VAT in any EU or PEPPOL network country.",
              "BT-ID": "BT-15",
              "UBL-XPath": "/Invoice/AccountingSupplierParty/Party/PartyTaxScheme/CompanyID"
            },
            "TradingName": {
              "Type": "string",
              "Example": "ABC Supplies",
              "Description": "Seller trading name.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-104",
              "UBL-XPath": "/Invoice/AccountingSupplierParty/Party/PartyName/Name (alt)"
            },
            "Address": {
              "Type": "object",
              "Properties": {
                "Street": {
                  "Type": "string",
                  "Example": "Main Street 1",
                  "Obligation": "required",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-163",
                  "Description": "Street of seller address."
                },
                "StreetNumber": {
                  "Type": "string",
                  "Example": "1",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "City": {
                  "Type": "string",
                  "Example": "Malm\u00f6",
                  "Obligation": "required",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-164",
                  "Description": "City of seller address."
                },
                "PostalCode": {
                  "Type": "string",
                  "Example": "21145",
                  "Obligation": "required",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-162",
                  "Description": "PostalCode of seller address."
                },
                "CountryCode": {
                  "Type": "string",
                  "Example": "SE",
                  "Obligation": "required",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-165",
                  "Description": "CountryCode of seller address."
                },
                "BuildingNumber": {
                  "Type": "string",
                  "Example": "Building A",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                }
              }
            },
            "Contact": {
              "Type": "object",
              "Properties": {
                "Name": {
                  "Type": "string",
                  "Example": "John Smith",
                  "Description": "Contact person name.",
                  "Obligation": "optional",
                  "BT-ID": "BT-45"
                },
                "Email": {
                  "Type": "string",
                  "Format": "email",
                  "Example": "sales@abc-supplies.se",
                  "Description": "Contact email.",
                  "Obligation": "optional"
                },
                "Phone": {
                  "Type": "string",
                  "Example": "+46101234567",
                  "Description": "Contact phone.",
                  "Obligation": "optional"
                },
                "Department": {
                  "Type": "string",
                  "Example": "Sales Department",
                  "Obligation": "optional"
                }
              }
            }
          },
          "Required": [
            "EndpointID",
            "Name",
            "LegalRegistrationID",
            "Address"
          ]
        },
        "BuyerContact": {
          "Type": "object",
          "Description": "Buyer contact point information.",
          "Obligation": "optional",
          "Properties": {
            "Name": {
              "Type": "string",
              "Example": "Jane Doe",
              "Description": "Buyer contact person name.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-46"
            },
            "Telephone": {
              "Type": "string",
              "Example": "+46887654321",
              "Description": "Buyer contact telephone.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-47"
            },
            "ElectronicMail": {
              "Type": "string",
              "Format": "email",
              "Example": "purchasing@xyz-enterprises.se",
              "Description": "Buyer contact email.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-48"
            }
          }
        },
        "Buyer": {
          "Type": "object",
          "Properties": {
            "EndpointID": {
              "Type": "string",
              "Example": "0088:9876543210987",
              "Description": "Buyer PEPPOL endpoint ID.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-16",
              "UBL-XPath": "/Invoice/AccountingCustomerParty/Party/EndpointID"
            },
            "Name": {
              "Type": "string",
              "Example": "XYZ Enterprises AB",
              "Description": "Buyer legal name.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-17",
              "UBL-XPath": "/Invoice/AccountingCustomerParty/Party/PartyName/Name"
            },
            "LegalRegistrationID": {
              "Type": "string",
              "Example": "SE9988776655",
              "Description": "Buyer legal registration number.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-18",
              "UBL-XPath": "/Invoice/AccountingCustomerParty/Party/PartyLegalEntity/CompanyID"
            },
            "VatID": {
              "Type": "string",
              "Example": "SE998877665501",
              "Description": "Buyer VAT identifier.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-106"
            },
            "TradingName": {
              "Type": "string",
              "Example": "XYZ Enterprises",
              "Description": "Buyer trading name.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-105"
            },
            "Address": {
              "Type": "object",
              "Properties": {
                "Street": {
                  "Type": "string",
                  "Example": "Second Ave 55",
                  "Obligation": "required",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-49",
                  "Description": "Street of buyer address."
                },
                "City": {
                  "Type": "string",
                  "Example": "Stockholm",
                  "Obligation": "required",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-50",
                  "Description": "City of buyer address."
                },
                "PostalCode": {
                  "Type": "string",
                  "Example": "11460",
                  "Obligation": "required",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-48",
                  "Description": "PostalCode of buyer address."
                },
                "CountryCode": {
                  "Type": "string",
                  "Example": "SE",
                  "Obligation": "required",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-51",
                  "Description": "CountryCode of buyer address."
                }
              }
            },
            "Contact": {
              "Type": "object",
              "Properties": {
                "Name": {
                  "Type": "string",
                  "Example": "Jane Doe",
                  "Description": "Contact person name.",
                  "Obligation": "optional"
                },
                "Email": {
                  "Type": "string",
                  "Format": "email",
                  "Example": "purchasing@xyz-enterprises.se",
                  "Obligation": "optional"
                },
                "Phone": {
                  "Type": "string",
                  "Example": "+46887654321",
                  "Obligation": "optional"
                }
              }
            }
          },
          "Required": [
            "EndpointID",
            "Name",
            "LegalRegistrationID",
            "Address"
          ]
        },
        "BuyerElectronicAddress": {
          "Type": "string",
          "Example": "0088:9876543210987",
          "Description": "Buyer electronic address (PEPPOL endpoint).",
          "Obligation": "optional",
          "ConditionalDescription": "",
          "BT-ID": "BT-49"
        },
        "BuyerAccountingReference": {
          "Type": "string",
          "Example": "COST-CENTER-XYZ",
          "Description": "Buyer's cost accounting reference code.",
          "Obligation": "optional",
          "ConditionalDescription": "",
          "BT-ID": "BT-52"
        },
        "PayeeParty": {
          "Type": "object",
          "Description": "Party receiving payment if different from seller.",
          "Obligation": "conditional",
          "Properties": {
            "EndpointID": {
              "Type": "string",
              "Example": "0088:5555555555555",
              "Description": "Payee endpoint ID.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-34"
            },
            "Name": {
              "Type": "string",
              "Example": "ABC Finance Ltd",
              "Description": "Payee legal name.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-33"
            },
            "LegalRegistrationID": {
              "Type": "string",
              "Example": "SE5555555555",
              "Description": "Payee registration number.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-35"
            }
          }
        },
        "ShipToParty": {
          "Type": "object",
          "Description": "Party to whom goods are shipped (if different from buyer).",
          "Obligation": "conditional",
          "Properties": {
            "EndpointID": {
              "Type": "string",
              "Example": "0088:1111111111111",
              "Description": "Ship-to party endpoint ID.",
              "Obligation": "optional",
              "ConditionalDescription": ""
            },
            "Name": {
              "Type": "string",
              "Example": "Warehouse Distribution Center",
              "Description": "Ship-to party name.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-70"
            },
            "Address": {
              "Type": "object",
              "Properties": {
                "Street": {
                  "Type": "string",
                  "Example": "Distribution Road 5",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "City": {
                  "Type": "string",
                  "Example": "Helsingborg",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "PostalCode": {
                  "Type": "string",
                  "Example": "25435",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "CountryCode": {
                  "Type": "string",
                  "Example": "SE",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                }
              }
            }
          }
        },
        "ShipFromParty": {
          "Type": "object",
          "Description": "Party from which goods originate (if different from seller).",
          "Obligation": "conditional",
          "Properties": {
            "Name": {
              "Type": "string",
              "Example": "Manufacturing Facility ABC",
              "Description": "Ship-from party name.",
              "Obligation": "optional",
              "ConditionalDescription": ""
            },
            "Address": {
              "Type": "object",
              "Properties": {
                "Street": {
                  "Type": "string",
                  "Example": "Factory Lane 10",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "City": {
                  "Type": "string",
                  "Example": "V\u00e4ster\u00e5s",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "PostalCode": {
                  "Type": "string",
                  "Example": "72214",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "CountryCode": {
                  "Type": "string",
                  "Example": "SE",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                }
              }
            }
          }
        },
        "InvoicePeriod": {
          "Type": "object",
          "Description": "Period to which invoice applies (for recurring services).",
          "Obligation": "conditional",
          "Properties": {
            "StartDate": {
              "Type": "string",
              "Format": "date",
              "Example": "2025-12-01",
              "Description": "Invoice period start date.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-75"
            },
            "EndDate": {
              "Type": "string",
              "Format": "date",
              "Example": "2025-12-31",
              "Description": "Invoice period end date.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-76"
            }
          }
        },
        "ContractReference": {
          "Type": "object",
          "Description": "Reference to a contract related to this invoice.",
          "Obligation": "optional",
          "Properties": {
            "Id": {
              "Type": "string",
              "Example": "CONTRACT-2025-001",
              "Description": "Contract identifier.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-12"
            },
            "IssueDate": {
              "Type": "string",
              "Format": "date",
              "Example": "2025-01-15",
              "Description": "Contract issue date.",
              "Obligation": "optional",
              "ConditionalDescription": ""
            }
          }
        },
        "Delivery": {
          "Type": "object",
          "Obligation": "optional",
          "Description": "Delivery information.",
          "Properties": {
            "ActualDeliveryDate": {
              "Type": "string",
              "Format": "date",
              "Example": "2025-12-15",
              "Description": "Actual delivery date.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-72",
              "UBL-XPath": "/Invoice/Delivery/ActualDeliveryDate"
            },
            "RequestedDeliveryDate": {
              "Type": "string",
              "Format": "date",
              "Example": "2025-12-20",
              "Description": "Buyer requested delivery date.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-121"
            },
            "DeliveryPeriod": {
              "Type": "object",
              "Properties": {
                "StartDate": {
                  "Type": "string",
                  "Format": "date",
                  "Example": "2025-12-01",
                  "Description": "Delivery period start.",
                  "Obligation": "optional",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-73"
                },
                "EndDate": {
                  "Type": "string",
                  "Format": "date",
                  "Example": "2025-12-31",
                  "Description": "Delivery period end.",
                  "Obligation": "optional",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-74"
                }
              }
            },
            "DeliveryAddress": {
              "Type": "object",
              "Properties": {
                "Street": {
                  "Type": "string",
                  "Example": "Warehouse Road 3",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "City": {
                  "Type": "string",
                  "Example": "G\u00f6teborg",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "PostalCode": {
                  "Type": "string",
                  "Example": "41110",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                },
                "CountryCode": {
                  "Type": "string",
                  "Example": "SE",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                }
              }
            },
            "ShipmentTracking": {
              "Type": "array",
              "Description": "Shipment tracking information.",
              "Obligation": "optional",
              "Items": {
                "Type": "object",
                "Properties": {
                  "TrackingID": {
                    "Type": "string",
                    "Example": "TRACK123456789",
                    "Description": "Tracking number.",
                    "Obligation": "optional",
                    "ConditionalDescription": ""
                  },
                  "Carrier": {
                    "Type": "string",
                    "Example": "DHL",
                    "Description": "Carrier name.",
                    "Obligation": "optional",
                    "ConditionalDescription": ""
                  },
                  "CarrierURL": {
                    "Type": "string",
                    "Format": "uri",
                    "Example": "https://tracking.dhl.com",
                    "Description": "Carrier tracking URL.",
                    "Obligation": "optional",
                    "ConditionalDescription": ""
                  }
                }
              }
            }
          }
        },
        "SubsidiaryDocuments": {
          "Type": "array",
          "Description": "Attached subsidiary documents (invoices, credits, debit notes).",
          "Obligation": "optional",
          "Items": {
            "Type": "object",
            "Properties": {
              "DocumentType": {
                "Type": "string",
                "Example": "ApplicationResponse",
                "Description": "Document type code.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              },
              "DocumentID": {
                "Type": "string",
                "Example": "DOC-2025-001",
                "Description": "Document identifier.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              },
              "Filename": {
                "Type": "string",
                "Example": "supporting_invoice.pdf",
                "Description": "Document filename.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              },
              "MimeCode": {
                "Type": "string",
                "Example": "application/pdf",
                "Description": "MIME type of document.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              }
            }
          }
        },
        "AdditionalDocumentReferences": {
          "Type": "array",
          "Description": "References to additional external documents.",
          "Obligation": "optional",
          "Items": {
            "Type": "object",
            "Properties": {
              "DocumentType": {
                "Type": "string",
                "Example": "QualityInspectionReport",
                "Description": "Referenced document type.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              },
              "DocumentID": {
                "Type": "string",
                "Example": "QUALITY-2025-123",
                "Description": "External document ID.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              },
              "IssueDate": {
                "Type": "string",
                "Format": "date",
                "Example": "2025-12-10",
                "Description": "Document issue date.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              },
              "Url": {
                "Type": "string",
                "Format": "uri",
                "Example": "https://docs.example.com/quality-report-123",
                "Description": "Document URL.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              }
            }
          }
        },
        "InvoiceReferences": {
          "Type": "array",
          "Description": "References to related documents (purchase orders, delivery notes, prior invoices).",
          "Items": {
            "Type": "object",
            "Properties": {
              "Type": {
                "Type": "string",
                "Example": "PurchaseOrder",
                "Description": "Reference type (PurchaseOrder, DeliveryNote, PriorInvoice, Contract).",
                "Obligation": "required",
                "ConditionalDescription": ""
              },
              "Id": {
                "Type": "string",
                "Example": "PO-2025-001",
                "Description": "Referenced document ID.",
                "Obligation": "required",
                "ConditionalDescription": "",
                "BT-ID": "BT-120"
              },
              "LineID": {
                "Type": "string",
                "Example": "1",
                "Description": "Line ID in referenced document.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              },
              "IssueDate": {
                "Type": "string",
                "Format": "date",
                "Example": "2025-11-01",
                "Description": "Referenced document issue date.",
                "Obligation": "optional",
                "ConditionalDescription": ""
              }
            }
          }
        },
        "ProjectReference": {
          "Type": "object",
          "Description": "Project identification information.",
          "Obligation": "optional",
          "Properties": {
            "Id": {
              "Type": "string",
              "Example": "PROJECT-2025-001",
              "Description": "Project identifier.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-102"
            },
            "Name": {
              "Type": "string",
              "Example": "Website Redesign",
              "Description": "Project name.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-103"
            }
          }
        },
        "InvoiceLines": {
          "Type": "array",
          "Items": {
            "Type": "object",
            "Properties": {
              "LineID": {
                "Type": "string",
                "Example": "1",
                "Description": "Invoice line identifier.",
                "Obligation": "required",
                "ConditionalDescription": "",
                "BT-ID": "BT-126",
                "UBL-XPath": "/Invoice/InvoiceLine/ID"
              },
              "LineOrderReference": {
                "Type": "object",
                "Description": "Reference to purchase order line.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "Properties": {
                  "OrderID": {
                    "Type": "string",
                    "Example": "PO-2025-001",
                    "Description": "Purchase order ID.",
                    "Obligation": "optional",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-122"
                  },
                  "OrderLineID": {
                    "Type": "string",
                    "Example": "1",
                    "Description": "Purchase order line ID.",
                    "Obligation": "optional",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-123"
                  }
                }
              },
              "Note": {
                "Type": "string",
                "Example": "Professional services",
                "Description": "Line note.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-127"
              },
              "ItemName": {
                "Type": "string",
                "Example": "Consulting services",
                "Description": "Item name.",
                "Obligation": "required",
                "ConditionalDescription": "",
                "BT-ID": "BT-153",
                "UBL-XPath": "/Invoice/InvoiceLine/Item/Name"
              },
              "ItemDescription": {
                "Type": "string",
                "Example": "3 days of senior consultant work",
                "Description": "Item description.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-154"
              },
              "ItemStandardIdentifier": {
                "Type": "string",
                "Example": "EAN123456789",
                "Description": "Standard product identifier (EAN, GTIN, etc).",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-157"
              },
              "BuyerItemReference": {
                "Type": "string",
                "Example": "BUYER-SKU-001",
                "Description": "Buyer's internal item reference.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-158"
              },
              "Quantity": {
                "Type": "number",
                "Example": 10,
                "Description": "Invoiced quantity.",
                "Obligation": "required",
                "ConditionalDescription": "",
                "BT-ID": "BT-129",
                "UBL-XPath": "/Invoice/InvoiceLine/InvoicedQuantity"
              },
              "UnitCode": {
                "Type": "string",
                "Example": "HUR",
                "Description": "Unit code (HUR=hour, DAY=day, etc).",
                "Obligation": "required",
                "ConditionalDescription": "",
                "BT-ID": "BT-130",
                "UBL-XPath": "/Invoice/InvoiceLine/InvoicedQuantity/@unitCode"
              },
              "Price": {
                "Type": "object",
                "Properties": {
                  "NetUnitPrice": {
                    "Type": "number",
                    "Example": 150.0,
                    "Description": "Net unit price.",
                    "Obligation": "required",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-131",
                    "UBL-XPath": "/Invoice/InvoiceLine/Price/PriceAmount"
                  },
                  "BaseQuantity": {
                    "Type": "number",
                    "Example": 1,
                    "Description": "Base quantity for unit price.",
                    "Obligation": "required",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-132",
                    "UBL-XPath": "/Invoice/InvoiceLine/Price/BaseQuantity"
                  },
                  "BaseQuantityUnitCode": {
                    "Type": "string",
                    "Example": "HUR",
                    "Description": "Unit code for base quantity.",
                    "Obligation": "required",
                    "ConditionalDescription": ""
                  }
                }
              },
              "AllowanceCharges": {
                "Type": "array",
                "Description": "Line-level allowances and surcharges.",
                "Items": {
                  "Type": "object",
                  "Properties": {
                    "IsCharge": {
                      "Type": "boolean",
                      "Example": false,
                      "Description": "true=Charge/Surcharge, false=Allowance/Discount.",
                      "Obligation": "required",
                      "ConditionalDescription": "",
                      "BT-ID": "BT-139"
                    },
                    "Reason": {
                      "Type": "string",
                      "Example": "Early payment discount",
                      "Description": "Allowance/charge reason.",
                      "Obligation": "optional",
                      "ConditionalDescription": "",
                      "BT-ID": "BT-140"
                    },
                    "PercentageAmount": {
                      "Type": "number",
                      "Example": 5,
                      "Description": "Percentage amount (if applicable).",
                      "Obligation": "optional",
                      "ConditionalDescription": "Only one of percentageAmount or amount must be provided.",
                      "BT-ID": "BT-137"
                    },
                    "BaseAmount": {
                      "Type": "number",
                      "Example": 1500,
                      "Description": "Base amount for percentage calculation.",
                      "Obligation": "optional",
                      "ConditionalDescription": "",
                      "BT-ID": "BT-136"
                    },
                    "Amount": {
                      "Type": "number",
                      "Example": 75,
                      "Description": "Allowance/charge amount.",
                      "Obligation": "required",
                      "ConditionalDescription": ""
                    }
                  }
                }
              },
              "LineExtensionAmount": {
                "Type": "number",
                "Example": 1500.0,
                "Description": "Line extension amount (quantity \u00d7 unit price + charges - allowances).",
                "Obligation": "required",
                "ConditionalDescription": "",
                "BT-ID": "BT-131",
                "UBL-XPath": "/Invoice/InvoiceLine/LineExtensionAmount"
              },
              "Vat": {
                "Type": "object",
                "Properties": {
                  "CategoryCode": {
                    "Type": "string",
                    "Example": "S",
                    "Description": "VAT category code (S=Standard, Z=Zero, E=Exempt, AE=Reverse Charge, etc).",
                    "Obligation": "required",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-151",
                    "UBL-XPath": "/Invoice/InvoiceLine/TaxTotal/TaxSubtotal/TaxCategory/ID"
                  },
                  "Rate": {
                    "Type": "number",
                    "Example": 25,
                    "Description": "VAT rate percentage.",
                    "Obligation": "required",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-152",
                    "UBL-XPath": "/Invoice/InvoiceLine/TaxTotal/TaxSubtotal/Percent"
                  },
                  "Amount": {
                    "Type": "number",
                    "Example": 375.0,
                    "Description": "VAT amount on line.",
                    "Obligation": "required",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-150"
                  }
                }
              },
              "ReceiptLineReference": {
                "Type": "string",
                "Example": "REC-LINE-001",
                "Description": "Reference to goods receipt line.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-124"
              },
              "ItemBuyerIdentifier": {
                "Type": "string",
                "Example": "BUYER-SKU-001",
                "Description": "Buyer internal product identifier.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-155"
              },
              "ItemSellersIdentifier": {
                "Type": "string",
                "Example": "SELLER-SKU-001",
                "Description": "Seller product identifier.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-156"
              },
              "OriginCountry": {
                "Type": "string",
                "Example": "SE",
                "Description": "Country of origin for goods.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-69"
              }
            },
            "Required": [
              "lineID",
              "itemName",
              "quantity",
              "unitCode",
              "price",
              "lineExtensionAmount",
              "vat"
            ]
          }
        },
        "TaxNotesText": {
          "Type": "string",
          "Example": "Reverse charge applies for services. EC Directive 2006/112/EC.",
          "Description": "Notes regarding tax applicability.",
          "Obligation": "optional",
          "ConditionalDescription": "",
          "BT-ID": "BT-116"
        },
        "DocumentAllowancesCharges": {
          "Type": "array",
          "Description": "Document-level allowances and surcharges.",
          "Items": {
            "Type": "object",
            "Properties": {
              "IsCharge": {
                "Type": "boolean",
                "Example": false,
                "Description": "true=Charge, false=Allowance.",
                "Obligation": "",
                "ConditionalDescription": ""
              },
              "Reason": {
                "Type": "string",
                "Example": "Bulk discount",
                "Description": "Reason code or text.",
                "Obligation": "required",
                "ConditionalDescription": "",
                "BT-ID": "BT-97"
              },
              "PercentageAmount": {
                "Type": "number",
                "Example": 2,
                "Description": "Percentage amount.",
                "Obligation": "optional",
                "ConditionalDescription": "Only if amount is not provided.",
                "BT-ID": "BT-94"
              },
              "BaseAmount": {
                "Type": "number",
                "Example": 1500,
                "Description": "Base amount for percentage.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-93"
              },
              "Amount": {
                "Type": "number",
                "Example": 30,
                "Description": "Allowance/charge amount.",
                "Obligation": "required",
                "ConditionalDescription": "",
                "BT-ID": "BT-92"
              },
              "VatCategoryCode": {
                "Type": "string",
                "Example": "S",
                "Description": "VAT category.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-95"
              },
              "VatRate": {
                "Type": "number",
                "Example": 25,
                "Description": "VAT rate.",
                "Obligation": "optional",
                "ConditionalDescription": "",
                "BT-ID": "BT-96"
              }
            }
          }
        },
        "TaxTotal": {
          "Type": "object",
          "Properties": {
            "TaxAmount": {
              "Type": "number",
              "Example": 375.0,
              "Description": "Total VAT amount.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-110",
              "UBL-XPath": "/Invoice/TaxTotal/TaxAmount"
            },
            "TaxAmountInAccountingCurrency": {
              "Type": "number",
              "Example": 375.0,
              "Description": "Tax amount in accounting currency.",
              "Obligation": "optional",
              "ConditionalDescription": "Required if tax currency differs from document currency.",
              "BT-ID": "BT-111"
            },
            "TaxSubtotals": {
              "Type": "array",
              "Items": {
                "Type": "object",
                "Properties": {
                  "TaxableAmount": {
                    "Type": "number",
                    "Example": 1500.0,
                    "Description": "Taxable amount in category.",
                    "Obligation": "required",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-116"
                  },
                  "TaxAmount": {
                    "Type": "number",
                    "Example": 375.0,
                    "Description": "Tax amount in category.",
                    "Obligation": "required",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-117"
                  },
                  "CategoryCode": {
                    "Type": "string",
                    "Example": "S",
                    "Description": "VAT category code.",
                    "Obligation": "required",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-118"
                  },
                  "Rate": {
                    "Type": "number",
                    "Example": 25,
                    "Description": "VAT rate.",
                    "Obligation": "required",
                    "ConditionalDescription": "",
                    "BT-ID": "BT-119"
                  },
                  "ExemptionReason": {
                    "Type": "string",
                    "Example": "VAT Exempt - Charity",
                    "Description": "Exemption reason (if applicable).",
                    "Obligation": "conditional",
                    "ConditionalDescription": "Required if categoryCode is E or AE (exempt or reverse charge).",
                    "BT-ID": "BT-120"
                  }
                },
                "Required": [
                  "taxableAmount",
                  "taxAmount",
                  "categoryCode",
                  "rate"
                ]
              }
            }
          },
          "Required": [
            "taxAmount",
            "taxSubtotals"
          ]
        },
        "MonetaryTotals": {
          "Type": "object",
          "Properties": {
            "LineExtensionAmount": {
              "Type": "number",
              "Example": 1500.0,
              "Description": "Sum of line extension amounts.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-106",
              "UBL-XPath": "/Invoice/LegalMonetaryTotal/LineExtensionAmount"
            },
            "AllowancesTotalAmount": {
              "Type": "number",
              "Example": 30.0,
              "Description": "Total allowances before tax.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-107"
            },
            "ChargesTotalAmount": {
              "Type": "number",
              "Example": 50.0,
              "Description": "Total charges before tax.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-108"
            },
            "TaxExclusiveAmount": {
              "Type": "number",
              "Example": 1520.0,
              "Description": "Total before tax.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-109"
            },
            "TaxInclusiveAmount": {
              "Type": "number",
              "Example": 1900.0,
              "Description": "Total including tax.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-112"
            },
            "PaidAmount": {
              "Type": "number",
              "Example": 500.0,
              "Description": "Amount already paid.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-113"
            },
            "RoundingAmount": {
              "Type": "number",
              "Example": 0.0,
              "Description": "Rounding adjustment.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-114"
            },
            "PayableAmount": {
              "Type": "number",
              "Example": 1900.0,
              "Description": "Amount due for payment.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-115"
            }
          },
          "Required": [
            "lineExtensionAmount",
            "taxExclusiveAmount",
            "taxInclusiveAmount",
            "payableAmount"
          ]
        },
        "PaymentTerms": {
          "Type": "object",
          "Description": "Payment terms and conditions.",
          "Obligation": "optional",
          "Properties": {
            "Description": {
              "Type": "string",
              "Example": "Net 30 days",
              "Description": "Payment terms description.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-20"
            },
            "PenaltyInterestPercent": {
              "Type": "number",
              "Example": 5.0,
              "Description": "Late payment penalty interest rate.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-22"
            },
            "PenaltyInterestDays": {
              "Type": "number",
              "Example": 5,
              "Description": "Days before penalty applies.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-23"
            },
            "DiscountPercent": {
              "Type": "number",
              "Example": 2.0,
              "Description": "Early payment discount percentage.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-21"
            },
            "DiscountDays": {
              "Type": "number",
              "Example": 10,
              "Description": "Days for early payment discount.",
              "Obligation": "optional",
              "ConditionalDescription": ""
            }
          }
        },
        "Payment": {
          "Type": "object",
          "Properties": {
            "PaymentMeansCode": {
              "Type": "string",
              "Example": "30",
              "Description": "Payment means code (30=Bank transfer, 58=SEPA, etc).",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-81",
              "UBL-XPath": "/Invoice/PaymentMeans/PaymentMeansCode"
            },
            "PaymentMeansDescription": {
              "Type": "string",
              "Example": "Bank transfer",
              "Description": "Payment means description.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-82"
            },
            "PaymentDueDate": {
              "Type": "string",
              "Format": "date",
              "Example": "2026-01-17",
              "Description": "Payment due date.",
              "Obligation": "required",
              "ConditionalDescription": "",
              "BT-ID": "BT-9",
              "UBL-XPath": "/Invoice/DueDate"
            },
            "PayeeAccount": {
              "Type": "object",
              "Properties": {
                "Iban": {
                  "Type": "string",
                  "Example": "SE3550000000054910000003",
                  "Description": "International Bank Account Number.",
                  "Obligation": "conditional",
                  "ConditionalDescription": "Required if paymentMeansCode indicates bank transfer and bankCode is not provided.",
                  "BT-ID": "BT-84"
                },
                "Bic": {
                  "Type": "string",
                  "Example": "ESSESESS",
                  "Description": "Bank Identifier Code.",
                  "Obligation": "conditional",
                  "ConditionalDescription": "Required for international bank transfers if IBAN is not provided.",
                  "BT-ID": "BT-85"
                },
                "AccountName": {
                  "Type": "string",
                  "Example": "ABC Supplies Ltd",
                  "Description": "Account holder name.",
                  "Obligation": "optional",
                  "ConditionalDescription": "",
                  "BT-ID": "BT-86"
                },
                "LocalAccountID": {
                  "Type": "string",
                  "Example": "0054910000003",
                  "Description": "Local account identifier.",
                  "Obligation": "optional",
                  "ConditionalDescription": ""
                }
              }
            },
            "PaymentChannelCode": {
              "Type": "string",
              "Example": "IBAN",
              "Description": "Payment channel (IBAN, BIC, etc).",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-83"
            },
            "MandateReference": {
              "Type": "string",
              "Example": "MANDATE-2025-001",
              "Description": "Payment mandate reference (for recurring payments).",
              "Obligation": "optional",
              "ConditionalDescription": "Required if payment is recurring SEPA direct debit."
            },
            "PaymentMeansID": {
              "Type": "string",
              "Example": "PAY-001",
              "Description": "Payment identifier.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-77"
            }
          },
          "Required": [
            "paymentMeansCode",
            "paymentDueDate"
          ]
        },
        "Incoterms": {
          "Type": "object",
          "Description": "Incoterms and related logistics.",
          "Obligation": "optional",
          "Properties": {
            "Code": {
              "Type": "string",
              "Example": "FOB",
              "Description": "Incoterms code (FOB, CIF, EXW, DDP, etc).",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-24"
            },
            "Location": {
              "Type": "string",
              "Example": "Port of Hamburg",
              "Description": "Incoterms location.",
              "Obligation": "optional",
              "ConditionalDescription": ""
            }
          }
        },
        "AccountingCostCenter": {
          "Type": "string",
          "Example": "COST-CENTER-001",
          "Description": "Cost accounting reference code.",
          "Obligation": "optional",
          "ConditionalDescription": "",
          "BT-ID": "BT-19"
        },
        "SellerTaxRepresentative": {
          "Type": "object",
          "Description": "Seller tax representative party.",
          "Obligation": "conditional",
          "ConditionalDescription": "Required if seller is non-resident.",
          "Properties": {
            "Name": {
              "Type": "string",
              "Example": "Tax Advisor Ltd",
              "Description": "Seller tax representative name.",
              "Obligation": "conditional",
              "ConditionalDescription": "Required if seller is non-resident.",
              "BT-ID": "BT-36"
            },
            "VatID": {
              "Type": "string",
              "Example": "SE5555555555",
              "Description": "Seller tax representative VAT ID.",
              "Obligation": "conditional",
              "ConditionalDescription": "Required if seller tax representative is present.",
              "BT-ID": "BT-37"
            }
          }
        },
        "BuyerTaxRepresentative": {
          "Type": "object",
          "Description": "Buyer tax representative party.",
          "Obligation": "optional",
          "ConditionalDescription": "",
          "Properties": {
            "Name": {
              "Type": "string",
              "Example": "Tax Consultant AB",
              "Description": "Buyer tax representative name.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-38"
            },
            "VatID": {
              "Type": "string",
              "Example": "SE4444444444",
              "Description": "Buyer tax representative VAT ID.",
              "Obligation": "optional",
              "ConditionalDescription": "",
              "BT-ID": "BT-39"
            }
          }
        }
      },
      "Required": [
        "Header",
        "Seller",
        "Buyer",
        "InvoiceLines",
        "TaxTotal",
        "MonetaryTotals",
        "Payment"
      ]
    }
  }
}